@startuml
BackbeatClient <-> BackbeatServer : FindOrCreateWorkflow

BackbeatClient <-> BackbeatServer : "V2::AddNode or SendSignal"

BackbeatServer -> MarkSignalReady
MarkSignalReady -> SideKiq 
ScheduleNextNode <- SideKiq
ScheduleNextNode -> SideKiq

StartNode <- SideKiq

StartNode -> BackbeatClient : MakeDecision

BackbeatClient <-> ClientProcessing
BackbeatClient <-> ClientComplete


ClientComplete <-> MarkChildrenReady
MarkChildrenReady -> ChildrenReady
ChildrenReady -> SideKiq
ScheduleNextNode <- SideKiq
ScheduleNextNode -> NodeComplete




@enduml
